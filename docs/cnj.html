<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Visualizaci√≥n de Data ‚Äì Machine Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Machine Learning</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html"> 
<span class="menu-text">Eda</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./cnj.html" aria-current="page"> 
<span class="menu-text">CNJ</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#resumen-del-dataset-n√∫mero-de-causas-ingresadas-resueltas-y-en-tr√°mite-a-nivel-nacional" id="toc-resumen-del-dataset-n√∫mero-de-causas-ingresadas-resueltas-y-en-tr√°mite-a-nivel-nacional" class="nav-link active" data-scroll-target="#resumen-del-dataset-n√∫mero-de-causas-ingresadas-resueltas-y-en-tr√°mite-a-nivel-nacional"><span class="header-section-number">1</span> Resumen del Dataset: N√∫mero de causas ingresadas, resueltas y en tr√°mite a nivel nacional</a>
  <ul class="collapse">
  <li><a href="#t√≠tulo-y-prop√≥sito" id="toc-t√≠tulo-y-prop√≥sito" class="nav-link" data-scroll-target="#t√≠tulo-y-prop√≥sito"><span class="header-section-number">1.1</span> üìå T√≠tulo y prop√≥sito</a></li>
  <li><a href="#cobertura-temporal-y-actualizaci√≥n" id="toc-cobertura-temporal-y-actualizaci√≥n" class="nav-link" data-scroll-target="#cobertura-temporal-y-actualizaci√≥n"><span class="header-section-number">1.2</span> ‚è± Cobertura temporal y actualizaci√≥n</a></li>
  <li><a href="#fuente-y-autor√≠a" id="toc-fuente-y-autor√≠a" class="nav-link" data-scroll-target="#fuente-y-autor√≠a"><span class="header-section-number">1.3</span> üèõ Fuente y autor√≠a</a></li>
  <li><a href="#variables-destacadas" id="toc-variables-destacadas" class="nav-link" data-scroll-target="#variables-destacadas"><span class="header-section-number">1.4</span> üìä Variables destacadas</a></li>
  <li><a href="#carga-del-dataset" id="toc-carga-del-dataset" class="nav-link" data-scroll-target="#carga-del-dataset"><span class="header-section-number">1.5</span> üìä Carga del Dataset</a></li>
  <li><a href="#top-10-de-delitos-comunes-en-el-pais" id="toc-top-10-de-delitos-comunes-en-el-pais" class="nav-link" data-scroll-target="#top-10-de-delitos-comunes-en-el-pais"><span class="header-section-number">1.6</span> üìä Top 10 de Delitos Comunes en el Pais</a></li>
  <li><a href="#top-10-de-las-provincias-mas-violentas" id="toc-top-10-de-las-provincias-mas-violentas" class="nav-link" data-scroll-target="#top-10-de-las-provincias-mas-violentas"><span class="header-section-number">1.7</span> üìä Top 10 de las Provincias mas violentas</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Visualizaci√≥n de Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="resumen-del-dataset-n√∫mero-de-causas-ingresadas-resueltas-y-en-tr√°mite-a-nivel-nacional" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Resumen del Dataset: N√∫mero de causas ingresadas, resueltas y en tr√°mite a nivel nacional</h1>
<section id="t√≠tulo-y-prop√≥sito" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="t√≠tulo-y-prop√≥sito"><span class="header-section-number">1.1</span> üìå T√≠tulo y prop√≥sito</h2>
<ul>
<li><strong>Nombre del dataset:</strong> N√∫mero de causas ingresadas, resueltas y en tr√°mite a nivel nacional (√°mbitos COIP, COGEP y Constitucional).<br>
</li>
<li><strong>Objetivo:</strong> Mostrar estad√≠sticas judiciales de Ecuador sobre cu√°ntas causas se han <strong>ingresado</strong>, <strong>resuelto</strong> o se encuentran <strong>en tr√°mite</strong>, desglosadas por materia, tipo de acci√≥n, delito, provincia, cant√≥n, judicatura e instancia.</li>
</ul>
<hr>
</section>
<section id="cobertura-temporal-y-actualizaci√≥n" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="cobertura-temporal-y-actualizaci√≥n"><span class="header-section-number">1.2</span> ‚è± Cobertura temporal y actualizaci√≥n</h2>
<ul>
<li><strong>Per√≠odo:</strong> Desde <strong>2017</strong> hasta la fecha de corte.<br>
</li>
<li><strong>√öltima actualizaci√≥n:</strong> <strong>17 de septiembre de 2025</strong>.<br>
</li>
<li><strong>Periodicidad:</strong> <strong>Mensual</strong> (se actualiza cada mes).</li>
</ul>
<hr>
</section>
<section id="fuente-y-autor√≠a" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="fuente-y-autor√≠a"><span class="header-section-number">1.3</span> üèõ Fuente y autor√≠a</h2>
<ul>
<li><strong>Organismo responsable:</strong> Consejo de la Judicatura de Ecuador.<br>
</li>
<li><strong>Departamento:</strong> Direcci√≥n Nacional de Estudios Jurim√©tricos y Estad√≠stica Judicial.<br>
</li>
<li><strong>Licencia:</strong> Creative Commons Attribution (CC-BY).</li>
</ul>
<hr>
</section>
<section id="variables-destacadas" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="variables-destacadas"><span class="header-section-number">1.4</span> üìä Variables destacadas</h2>
<p>El dataset incluye informaci√≥n desagregada en los siguientes campos:</p>
<ul>
<li><strong>A√±o</strong> y <strong>Mes</strong><br>
</li>
<li><strong>Materia</strong> (penal, constitucional, administrativo, etc.)<br>
</li>
<li><strong>Tipo de acci√≥n / clase de causa</strong><br>
</li>
<li><strong>Delito</strong> (cuando aplica)<br>
</li>
<li><strong>Provincia</strong> y <strong>Cant√≥n</strong><br>
</li>
<li><strong>Judicatura</strong> e <strong>Instancia</strong><br>
</li>
<li><strong>N√∫mero de causas</strong>:
<ul>
<li>Ingresadas<br>
</li>
<li>Resueltas<br>
</li>
<li>En tr√°mite</li>
</ul></li>
</ul>
<hr>
</section>
<section id="carga-del-dataset" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="carga-del-dataset"><span class="header-section-number">1.5</span> üìä Carga del Dataset</h2>
<div id="2e9e367a" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ruta local del archivo .ods</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">file</span> <span class="op">=</span> <span class="st">"/Users/usr-s3c/Documents/Maestria_YTech/Machine-Learning/cnj.csv"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Leer la primera hoja del archivo</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="bu">file</span>, sep<span class="op">=</span><span class="st">";"</span>, low_memory<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar las primeras filas</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.head(<span class="dv">20</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                       Materia            TipoAccion  \
0   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
1   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
2   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
3   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
4   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
5   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
6   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
7   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
8   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
9   ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
10  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
11  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
12  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
13  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
14  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
15  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
16  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
17  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
18  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   
19  ADOLESCENTE INFRACTOR COIP  ACCION PENAL PUBLICA   

                           Delito   Provincia           Canton  \
0   ART. 084 DESAPARICION FORZADA       AZUAY           CUENCA   
1   ART. 084 DESAPARICION FORZADA       AZUAY           CUENCA   
2   ART. 084 DESAPARICION FORZADA   SUCUMBIOS  GONZALO PIZARRO   
3               ART. 088 AGRESION       AZUAY           CUENCA   
4               ART. 088 AGRESION       AZUAY           CUENCA   
5               ART. 088 AGRESION       AZUAY           CUENCA   
6               ART. 088 AGRESION       AZUAY           CUENCA   
7               ART. 088 AGRESION       AZUAY           CUENCA   
8               ART. 088 AGRESION       AZUAY           CUENCA   
9               ART. 088 AGRESION       AZUAY           CUENCA   
10              ART. 088 AGRESION       AZUAY           CUENCA   
11              ART. 088 AGRESION       AZUAY         GUALACEO   
12              ART. 088 AGRESION       AZUAY         GUALACEO   
13              ART. 088 AGRESION      CARCHI           TULCAN   
14              ART. 088 AGRESION  CHIMBORAZO         RIOBAMBA   
15              ART. 088 AGRESION  CHIMBORAZO         RIOBAMBA   
16              ART. 088 AGRESION  CHIMBORAZO         RIOBAMBA   
17              ART. 088 AGRESION  CHIMBORAZO         RIOBAMBA   
18              ART. 088 AGRESION  CHIMBORAZO         RIOBAMBA   
19              ART. 088 AGRESION    COTOPAXI        LATACUNGA   

                               Judicatura            Instancia Periodo  \
0                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/17   
1                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/18   
2   UJ MULTICOMPETENTE DE GONZALO PIZARRO  UNIDADES JUDICIALES  1/1/17   
3                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/16   
4                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/17   
5                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/18   
6                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/19   
7                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/20   
8                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/21   
9                       UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/23   
10                      UJ FMNA DE CUENCA  UNIDADES JUDICIALES  1/1/24   
11                    UJ FMNA DE GUALACEO  UNIDADES JUDICIALES  1/1/17   
12                    UJ FMNA DE GUALACEO  UNIDADES JUDICIALES  1/1/18   
13                      UJ FMNA DE TULCAN  UNIDADES JUDICIALES  1/1/16   
14                    UJ FMNA DE RIOBAMBA  UNIDADES JUDICIALES  1/1/16   
15                    UJ FMNA DE RIOBAMBA  UNIDADES JUDICIALES  1/1/17   
16                    UJ FMNA DE RIOBAMBA  UNIDADES JUDICIALES  1/1/19   
17                    UJ FMNA DE RIOBAMBA  UNIDADES JUDICIALES  1/1/24   
18                    UJ FMNA DE RIOBAMBA  UNIDADES JUDICIALES  1/1/25   
19                   UJ FMNA DE LATACUNGA  UNIDADES JUDICIALES  1/1/17   

    Ingreso  Resuelta  Tramite  Mes  Anio  
0         3         2        1    8  2025  
1        57        49        9    8  2025  
2         2         2        0    8  2025  
3         2         1        1    8  2025  
4         1         0        2    8  2025  
5         1         1        2    8  2025  
6         2         1        3    8  2025  
7         3         3        3    8  2025  
8         2         2        3    8  2025  
9         2         1        4    8  2025  
10        1         0        5    8  2025  
11        1         1        0    8  2025  
12        1         1        0    8  2025  
13        1         1        0    8  2025  
14        2         1        1    8  2025  
15        1         1        1    8  2025  
16        4         1        4    8  2025  
17        2         0        6    8  2025  
18        1         0        7    8  2025  
19        1         1        0    8  2025  </code></pre>
</div>
</div>
<div id="19a60745" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar nombres de todas las columnas</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.columns.tolist())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>['Materia', 'TipoAccion', 'Delito', 'Provincia', 'Canton', 'Judicatura', 'Instancia', 'Periodo', 'Ingreso', 'Resuelta', 'Tramite', 'Mes', 'Anio']</code></pre>
</div>
</div>
<div id="d6c494ca" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"N√∫mero de columnas:"</span>, <span class="bu">len</span>(df.columns))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>N√∫mero de columnas: 13</code></pre>
</div>
</div>
<div id="dac1cffa" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.info())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 235644 entries, 0 to 235643
Data columns (total 13 columns):
 #   Column      Non-Null Count   Dtype 
---  ------      --------------   ----- 
 0   Materia     235644 non-null  object
 1   TipoAccion  235644 non-null  object
 2   Delito      235644 non-null  object
 3   Provincia   235644 non-null  object
 4   Canton      235644 non-null  object
 5   Judicatura  235644 non-null  object
 6   Instancia   235644 non-null  object
 7   Periodo     235644 non-null  object
 8   Ingreso     235644 non-null  int64 
 9   Resuelta    235644 non-null  int64 
 10  Tramite     235644 non-null  int64 
 11  Mes         235644 non-null  int64 
 12  Anio        235644 non-null  int64 
dtypes: int64(5), object(8)
memory usage: 23.4+ MB
None</code></pre>
</div>
</div>
<div id="99f53dbe" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">20</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="282">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Materia</th>
<th data-quarto-table-cell-role="th">TipoAccion</th>
<th data-quarto-table-cell-role="th">Delito</th>
<th data-quarto-table-cell-role="th">Provincia</th>
<th data-quarto-table-cell-role="th">Canton</th>
<th data-quarto-table-cell-role="th">Judicatura</th>
<th data-quarto-table-cell-role="th">Instancia</th>
<th data-quarto-table-cell-role="th">Periodo</th>
<th data-quarto-table-cell-role="th">Ingreso</th>
<th data-quarto-table-cell-role="th">Resuelta</th>
<th data-quarto-table-cell-role="th">Tramite</th>
<th data-quarto-table-cell-role="th">Mes</th>
<th data-quarto-table-cell-role="th">Anio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 084 DESAPARICION FORZADA</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 084 DESAPARICION FORZADA</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/18</td>
<td>57</td>
<td>49</td>
<td>9</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 084 DESAPARICION FORZADA</td>
<td>SUCUMBIOS</td>
<td>GONZALO PIZARRO</td>
<td>UJ MULTICOMPETENTE DE GONZALO PIZARRO</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>2</td>
<td>2</td>
<td>0</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/16</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/18</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/19</td>
<td>2</td>
<td>1</td>
<td>3</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/20</td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">8</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/21</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">9</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/23</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">10</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>CUENCA</td>
<td>UJ FMNA DE CUENCA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/24</td>
<td>1</td>
<td>0</td>
<td>5</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">11</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>GUALACEO</td>
<td>UJ FMNA DE GUALACEO</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">12</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>AZUAY</td>
<td>GUALACEO</td>
<td>UJ FMNA DE GUALACEO</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/18</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">13</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CARCHI</td>
<td>TULCAN</td>
<td>UJ FMNA DE TULCAN</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/16</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">14</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CHIMBORAZO</td>
<td>RIOBAMBA</td>
<td>UJ FMNA DE RIOBAMBA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/16</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">15</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CHIMBORAZO</td>
<td>RIOBAMBA</td>
<td>UJ FMNA DE RIOBAMBA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">16</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CHIMBORAZO</td>
<td>RIOBAMBA</td>
<td>UJ FMNA DE RIOBAMBA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/19</td>
<td>4</td>
<td>1</td>
<td>4</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">17</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CHIMBORAZO</td>
<td>RIOBAMBA</td>
<td>UJ FMNA DE RIOBAMBA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/24</td>
<td>2</td>
<td>0</td>
<td>6</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">18</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>CHIMBORAZO</td>
<td>RIOBAMBA</td>
<td>UJ FMNA DE RIOBAMBA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/25</td>
<td>1</td>
<td>0</td>
<td>7</td>
<td>8</td>
<td>2025</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">19</th>
<td>ADOLESCENTE INFRACTOR COIP</td>
<td>ACCION PENAL PUBLICA</td>
<td>ART. 088 AGRESION</td>
<td>COTOPAXI</td>
<td>LATACUNGA</td>
<td>UJ FMNA DE LATACUNGA</td>
<td>UNIDADES JUDICIALES</td>
<td>1/1/17</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>8</td>
<td>2025</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="top-10-de-delitos-comunes-en-el-pais" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="top-10-de-delitos-comunes-en-el-pais"><span class="header-section-number">1.6</span> üìä Top 10 de Delitos Comunes en el Pais</h2>
<div id="1ce284ff" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Agregacion y Top 10 ---</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>top_delitos <span class="op">=</span> (df.groupby(<span class="st">'Delito'</span>, as_index<span class="op">=</span><span class="va">False</span>)[<span class="st">'Ingreso'</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                 .<span class="bu">sum</span>()</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                 .sort_values(<span class="st">'Ingreso'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                 .head(<span class="dv">10</span>))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (Opcional) ver tabla en consola</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_delitos.to_string(index<span class="op">=</span><span class="va">False</span>))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Grafica ---</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>bar <span class="op">=</span> alt.Chart(top_delitos).mark_bar().encode(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'Delito:N'</span>, sort<span class="op">=</span><span class="st">'-x'</span>, title<span class="op">=</span><span class="st">'Delito'</span>),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'Ingreso:Q'</span>, title<span class="op">=</span><span class="st">'Causas (Ingreso)'</span>),</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'Delito'</span>, <span class="st">'Ingreso'</span>]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Top 10 de causas mas comunes por Delito (segun Ingreso)'</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">700</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">350</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>).interactive()</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> bar.mark_text(align<span class="op">=</span><span class="st">'left'</span>, dx<span class="op">=</span><span class="dv">3</span>).encode(text<span class="op">=</span><span class="st">'Ingreso:Q'</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>(bar <span class="op">+</span> labels)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                              Delito  Ingreso
                                ART. 389 CONTRAVENCIONES DE TRANSITO DE CUARTA CLASE  1116571
                                                          COBRO DE PAGARE A LA ORDEN   503535
ART. 159 CONTRAVENCIONES DE VIOLENCIA CONTRA LA MUJER O MIEMBROS DEL NUCLEO FAMILIAR   459978
                                                                           ALIMENTOS   414144
                               ART. 386 CONTRAVENCIONES DE TRANSITO DE PRIMERA CLASE   227334
                                                                 DIVORCIO POR CAUSAL   174142
                         BENEFICIOS Y PETICIONES DE PERSONAS PRIVADAS DE LA LIBERTAD   161231
                                                                ACCION DE PROTECCION   144420
                             ART. 385 CONDUCCION DE VEHICULO EN ESTADO DE EMBRIAGUEZ   128014
          ART. 220 TRAFICO ILICITO DE SUSTANCIAS CATALOGADAS SUJETAS A FISCALIZACION   110272</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="283">

<style>
  #altair-viz-4cdc7224105a4becbe6d4aafb1d33e95.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-4cdc7224105a4becbe6d4aafb1d33e95.vega-embed details,
  #altair-viz-4cdc7224105a4becbe6d4aafb1d33e95.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-4cdc7224105a4becbe6d4aafb1d33e95"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-4cdc7224105a4becbe6d4aafb1d33e95") {
      outputDiv = document.getElementById("altair-viz-4cdc7224105a4becbe6d4aafb1d33e95");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "Delito", "type": "nominal"}, {"field": "Ingreso", "type": "quantitative"}], "x": {"field": "Ingreso", "title": "Causas (Ingreso)", "type": "quantitative"}, "y": {"field": "Delito", "sort": "-x", "title": "Delito", "type": "nominal"}}, "name": "view_55", "title": "Top 10 de causas mas comunes por Delito (segun Ingreso)"}, {"mark": {"type": "text", "align": "left", "dx": 3}, "encoding": {"text": {"field": "Ingreso", "type": "quantitative"}, "tooltip": [{"field": "Delito", "type": "nominal"}, {"field": "Ingreso", "type": "quantitative"}], "x": {"field": "Ingreso", "title": "Causas (Ingreso)", "type": "quantitative"}, "y": {"field": "Delito", "sort": "-x", "title": "Delito", "type": "nominal"}}, "title": "Top 10 de causas mas comunes por Delito (segun Ingreso)"}], "data": {"name": "data-f684a4851825b34731f8d6e32a696d5e"}, "height": 350, "params": [{"name": "param_73", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales", "views": ["view_55"]}], "width": 700, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-f684a4851825b34731f8d6e32a696d5e": [{"Delito": "ART. 389 CONTRAVENCIONES DE TRANSITO DE CUARTA CLASE", "Ingreso": 1116571}, {"Delito": "COBRO DE PAGARE A LA ORDEN", "Ingreso": 503535}, {"Delito": "ART. 159 CONTRAVENCIONES DE VIOLENCIA CONTRA LA MUJER O MIEMBROS DEL NUCLEO FAMILIAR", "Ingreso": 459978}, {"Delito": "ALIMENTOS", "Ingreso": 414144}, {"Delito": "ART. 386 CONTRAVENCIONES DE TRANSITO DE PRIMERA CLASE", "Ingreso": 227334}, {"Delito": "DIVORCIO POR CAUSAL", "Ingreso": 174142}, {"Delito": "BENEFICIOS Y PETICIONES DE PERSONAS PRIVADAS DE LA LIBERTAD", "Ingreso": 161231}, {"Delito": "ACCION DE PROTECCION", "Ingreso": 144420}, {"Delito": "ART. 385 CONDUCCION DE VEHICULO EN ESTADO DE EMBRIAGUEZ", "Ingreso": 128014}, {"Delito": "ART. 220 TRAFICO ILICITO DE SUSTANCIAS CATALOGADAS SUJETAS A FISCALIZACION", "Ingreso": 110272}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="top-10-de-las-provincias-mas-violentas" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="top-10-de-las-provincias-mas-violentas"><span class="header-section-number">1.7</span> üìä Top 10 de las Provincias mas violentas</h2>
<div id="6ae3792b" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Asegurar limpieza de texto</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Delito'</span>] <span class="op">=</span> df[<span class="st">'Delito'</span>].fillna(<span class="st">'SIN ESPECIFICAR'</span>).astype(<span class="bu">str</span>).<span class="bu">str</span>.strip()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Provincia'</span>] <span class="op">=</span> df[<span class="st">'Provincia'</span>].astype(<span class="bu">str</span>).<span class="bu">str</span>.strip()</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Ingreso'</span>] <span class="op">=</span> pd.to_numeric(df[<span class="st">'Ingreso'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar solo el delito 140 ASESINATO</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>df_asesinato <span class="op">=</span> df[df[<span class="st">'Delito'</span>].<span class="bu">str</span>.upper().<span class="bu">str</span>.contains(<span class="st">"140 ASESINATO"</span>)]</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar por provincia y ordenar</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>top5_provincias <span class="op">=</span> (df_asesinato.groupby(<span class="st">'Provincia'</span>, as_index<span class="op">=</span><span class="va">False</span>)[<span class="st">'Ingreso'</span>]</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                   .<span class="bu">sum</span>()</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>                   .sort_values(<span class="st">'Ingreso'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                   .head(<span class="dv">5</span>))</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top5_provincias.to_string(index<span class="op">=</span><span class="va">False</span>))  <span class="co"># tabla en consola</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Gr√°fica</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(top5_provincias).mark_bar().encode(</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'Ingreso:Q'</span>, title<span class="op">=</span><span class="st">'Causas (Ingreso)'</span>),</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'Provincia:N'</span>, sort<span class="op">=</span><span class="st">'-x'</span>, title<span class="op">=</span><span class="st">'Provincia'</span>),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'Provincia'</span>,<span class="st">'Ingreso'</span>]</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Top 5 provincias con mas causas por delito: 140 ASESINATO'</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>).interactive()</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> chart.mark_text(align<span class="op">=</span><span class="st">'left'</span>, dx<span class="op">=</span><span class="dv">3</span>).encode(text<span class="op">=</span><span class="st">'Ingreso:Q'</span>)</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>(chart <span class="op">+</span> labels)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Provincia  Ingreso
    GUAYAS     5399
 PICHINCHA     1699
ESMERALDAS     1581
    MANABI     1448
  LOS RIOS     1226</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="284">

<style>
  #altair-viz-9ceabb5913814c61b463ec128ce1ac75.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-9ceabb5913814c61b463ec128ce1ac75.vega-embed details,
  #altair-viz-9ceabb5913814c61b463ec128ce1ac75.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-9ceabb5913814c61b463ec128ce1ac75"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-9ceabb5913814c61b463ec128ce1ac75") {
      outputDiv = document.getElementById("altair-viz-9ceabb5913814c61b463ec128ce1ac75");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "Provincia", "type": "nominal"}, {"field": "Ingreso", "type": "quantitative"}], "x": {"field": "Ingreso", "title": "Causas (Ingreso)", "type": "quantitative"}, "y": {"field": "Provincia", "sort": "-x", "title": "Provincia", "type": "nominal"}}, "name": "view_56", "title": "Top 5 provincias con mas causas por delito: 140 ASESINATO"}, {"mark": {"type": "text", "align": "left", "dx": 3}, "encoding": {"text": {"field": "Ingreso", "type": "quantitative"}, "tooltip": [{"field": "Provincia", "type": "nominal"}, {"field": "Ingreso", "type": "quantitative"}], "x": {"field": "Ingreso", "title": "Causas (Ingreso)", "type": "quantitative"}, "y": {"field": "Provincia", "sort": "-x", "title": "Provincia", "type": "nominal"}}, "title": "Top 5 provincias con mas causas por delito: 140 ASESINATO"}], "data": {"name": "data-18a21e28edcf6d7b7450189795814ab9"}, "height": 300, "params": [{"name": "param_74", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales", "views": ["view_56"]}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-18a21e28edcf6d7b7450189795814ab9": [{"Provincia": "GUAYAS", "Ingreso": 5399}, {"Provincia": "PICHINCHA", "Ingreso": 1699}, {"Provincia": "ESMERALDAS", "Ingreso": 1581}, {"Provincia": "MANABI", "Ingreso": 1448}, {"Provincia": "LOS RIOS", "Ingreso": 1226}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div id="b7977078" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Asegurar limpieza de texto</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Delito'</span>] <span class="op">=</span> df[<span class="st">'Delito'</span>].fillna(<span class="st">'SIN ESPECIFICAR'</span>).astype(<span class="bu">str</span>).<span class="bu">str</span>.strip()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Provincia'</span>] <span class="op">=</span> df[<span class="st">'Provincia'</span>].astype(<span class="bu">str</span>).<span class="bu">str</span>.strip()</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Ingreso'</span>] <span class="op">=</span> pd.to_numeric(df[<span class="st">'Ingreso'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar solo el delito 140 ASESINATO</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>df_asesinato <span class="op">=</span> df[df[<span class="st">'Delito'</span>].<span class="bu">str</span>.upper().<span class="bu">str</span>.contains(<span class="st">"140 ASESINATO"</span>)]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar las top 5 provincias con m√°s casos acumulados</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>top5_provincias <span class="op">=</span> (df_asesinato.groupby(<span class="st">'Provincia'</span>, as_index<span class="op">=</span><span class="va">False</span>)[<span class="st">'Ingreso'</span>]</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                   .<span class="bu">sum</span>()</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>                   .sort_values(<span class="st">'Ingreso'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>                   .head(<span class="dv">5</span>)[<span class="st">'Provincia'</span>]</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>                   .tolist())</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar solo esas provincias</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>df_top5 <span class="op">=</span> df_asesinato[df_asesinato[<span class="st">'Provincia'</span>].isin(top5_provincias)]</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar por a√±o y provincia</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>evolucion <span class="op">=</span> (df_top5.groupby([<span class="st">'Anio'</span>,<span class="st">'Provincia'</span>], as_index<span class="op">=</span><span class="va">False</span>)[<span class="st">'Ingreso'</span>]</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>             .<span class="bu">sum</span>()</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>             .sort_values([<span class="st">'Provincia'</span>,<span class="st">'Anio'</span>]))</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(evolucion.to_string(index<span class="op">=</span><span class="va">False</span>))  <span class="co"># Tabla en consola</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Gr√°fica de evoluci√≥n</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(evolucion).mark_line(point<span class="op">=</span><span class="va">True</span>).encode(</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'Anio:O'</span>, title<span class="op">=</span><span class="st">'A√±o'</span>),</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'Ingreso:Q'</span>, title<span class="op">=</span><span class="st">'Causas (Ingreso)'</span>),</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'Provincia:N'</span>, title<span class="op">=</span><span class="st">'Provincia'</span>),</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'Anio'</span>,<span class="st">'Provincia'</span>,<span class="st">'Ingreso'</span>]</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Evoluci√≥n por a√±o ‚Äî Delito 140 ASESINATO (Top 5 provincias)'</span>,</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>).interactive()</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>chart</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Anio  Provincia  Ingreso
 2025 ESMERALDAS     1581
 2025     GUAYAS     5399
 2025   LOS RIOS     1226
 2025     MANABI     1448
 2025  PICHINCHA     1699</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="285">

<style>
  #altair-viz-56b7dfebfbb34c9e97b886cf9e617c96.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-56b7dfebfbb34c9e97b886cf9e617c96.vega-embed details,
  #altair-viz-56b7dfebfbb34c9e97b886cf9e617c96.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-56b7dfebfbb34c9e97b886cf9e617c96"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-56b7dfebfbb34c9e97b886cf9e617c96") {
      outputDiv = document.getElementById("altair-viz-56b7dfebfbb34c9e97b886cf9e617c96");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-0b965b2d46d7c973952e78e1b49ce23f"}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"field": "Provincia", "title": "Provincia", "type": "nominal"}, "tooltip": [{"field": "Anio", "type": "quantitative"}, {"field": "Provincia", "type": "nominal"}, {"field": "Ingreso", "type": "quantitative"}], "x": {"field": "Anio", "title": "A\u00f1o", "type": "ordinal"}, "y": {"field": "Ingreso", "title": "Causas (Ingreso)", "type": "quantitative"}}, "height": 400, "params": [{"name": "param_75", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "title": "Evoluci\u00f3n por a\u00f1o \u2014 Delito 140 ASESINATO (Top 5 provincias)", "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-0b965b2d46d7c973952e78e1b49ce23f": [{"Anio": 2025, "Provincia": "ESMERALDAS", "Ingreso": 1581}, {"Anio": 2025, "Provincia": "GUAYAS", "Ingreso": 5399}, {"Anio": 2025, "Provincia": "LOS RIOS", "Ingreso": 1226}, {"Anio": 2025, "Provincia": "MANABI", "Ingreso": 1448}, {"Anio": 2025, "Provincia": "PICHINCHA", "Ingreso": 1699}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<div id="928d2399" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.copy()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> [<span class="st">'Ingreso'</span>,<span class="st">'Resuelta'</span>,<span class="st">'Tramite'</span>]:</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    df[c] <span class="op">=</span> pd.to_numeric(df[c], errors<span class="op">=</span><span class="st">'coerce'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Provincia'</span>] <span class="op">=</span> df[<span class="st">'Provincia'</span>].astype(<span class="bu">str</span>).<span class="bu">str</span>.strip()</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Provincias con mayor Resuelta (para ordenar/filtrar)</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>topN <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>orden_prov <span class="op">=</span> (df.groupby(<span class="st">'Provincia'</span>, as_index<span class="op">=</span><span class="va">False</span>)[<span class="st">'Resuelta'</span>]</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                .<span class="bu">sum</span>()</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                .sort_values(<span class="st">'Resuelta'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                .head(topN)[<span class="st">'Provincia'</span>]</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                .tolist())</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset y pasar a formato largo</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> (df[df[<span class="st">'Provincia'</span>].isin(orden_prov)]</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>          .groupby(<span class="st">'Provincia'</span>, as_index<span class="op">=</span><span class="va">False</span>)[[<span class="st">'Ingreso'</span>,<span class="st">'Resuelta'</span>,<span class="st">'Tramite'</span>]]</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>          .<span class="bu">sum</span>())</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>datos_long <span class="op">=</span> subset.melt(<span class="st">'Provincia'</span>, var_name<span class="op">=</span><span class="st">'Estado'</span>, value_name<span class="op">=</span><span class="st">'Causas'</span>)</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co"># --- barras agrupadas (xOffset) ---</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> alt.Chart(datos_long).mark_line(point<span class="op">=</span><span class="va">True</span>).encode(</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'Provincia:N'</span>, sort<span class="op">=</span>orden_prov, title<span class="op">=</span><span class="st">'Provincia'</span>),</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'Causas:Q'</span>, title<span class="op">=</span><span class="st">'N√∫mero de causas'</span>),</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'Estado:N'</span>, title<span class="op">=</span><span class="st">'Estado'</span>),</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    xOffset<span class="op">=</span><span class="st">'Estado:N'</span>,  <span class="co"># &lt;--- Agrupa barras por Estado dentro de cada provincia</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'Provincia'</span>,<span class="st">'Estado'</span>,<span class="st">'Causas'</span>]</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f'Provincias vs n√∫mero de causas (Ingreso / Resuelta / Tramite) ‚Äî Top </span><span class="sc">{</span>topN<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">450</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>chart</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="286">

<style>
  #altair-viz-530c9bf9d5304e57b68afb4c0d237472.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-530c9bf9d5304e57b68afb4c0d237472.vega-embed details,
  #altair-viz-530c9bf9d5304e57b68afb4c0d237472.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-530c9bf9d5304e57b68afb4c0d237472"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-530c9bf9d5304e57b68afb4c0d237472") {
      outputDiv = document.getElementById("altair-viz-530c9bf9d5304e57b68afb4c0d237472");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-94de99b7cf0f22cda1b25de37b87df6a"}, "mark": {"type": "line", "point": true}, "encoding": {"color": {"field": "Estado", "title": "Estado", "type": "nominal"}, "tooltip": [{"field": "Provincia", "type": "nominal"}, {"field": "Estado", "type": "nominal"}, {"field": "Causas", "type": "quantitative"}], "x": {"field": "Provincia", "sort": ["GUAYAS", "PICHINCHA", "AZUAY", "MANABI", "TUNGURAHUA"], "title": "Provincia", "type": "nominal"}, "xOffset": {"field": "Estado", "type": "nominal"}, "y": {"field": "Causas", "title": "N\u00famero de causas", "type": "quantitative"}}, "height": 450, "title": "Provincias vs n\u00famero de causas (Ingreso / Resuelta / Tramite) \u2014 Top 5", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-94de99b7cf0f22cda1b25de37b87df6a": [{"Provincia": "AZUAY", "Estado": "Ingreso", "Causas": 690612}, {"Provincia": "GUAYAS", "Estado": "Ingreso", "Causas": 1092932}, {"Provincia": "MANABI", "Estado": "Ingreso", "Causas": 496381}, {"Provincia": "PICHINCHA", "Estado": "Ingreso", "Causas": 998978}, {"Provincia": "TUNGURAHUA", "Estado": "Ingreso", "Causas": 322719}, {"Provincia": "AZUAY", "Estado": "Resuelta", "Causas": 638118}, {"Provincia": "GUAYAS", "Estado": "Resuelta", "Causas": 889682}, {"Provincia": "MANABI", "Estado": "Resuelta", "Causas": 432563}, {"Provincia": "PICHINCHA", "Estado": "Resuelta", "Causas": 830538}, {"Provincia": "TUNGURAHUA", "Estado": "Resuelta", "Causas": 291036}, {"Provincia": "AZUAY", "Estado": "Tramite", "Causas": 336772}, {"Provincia": "GUAYAS", "Estado": "Tramite", "Causas": 1141463}, {"Provincia": "MANABI", "Estado": "Tramite", "Causas": 323471}, {"Provincia": "PICHINCHA", "Estado": "Tramite", "Causas": 941822}, {"Provincia": "TUNGURAHUA", "Estado": "Tramite", "Causas": 190895}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>